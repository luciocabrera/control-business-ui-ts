import{j as c,d as f,k as H,l as g,v as b,E as x,B as $,C as E,m as M,n as V,b as p,o as B,p as j,H as D,F as I}from"./index-a0b9f4a7.js";import{r as u}from"./vendor-2ae8ef6f.js";const C=s=>typeof s=="object"&&!Array.isArray(s)&&s!==null,z=(s,a)=>{const o=Object.keys(s),l=Object.keys(a);if(o.length!==l.length)return!1;for(const t of o){const n=s[t],m=a[t],i=C(n)&&C(m);if(i&&!z(n,m)||!i&&n!==m)return!1}return!0},S=u.memo(({color:s="#03542f"})=>c("svg",{stroke:s,fill:s,strokeWidth:"0",viewBox:"0 0 384 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"})})),q=u.memo(({color:s="#03542f"})=>c("svg",{stroke:s,fill:s,strokeWidth:"0",height:"1em",width:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})})),G=u.memo(()=>c("svg",{stroke:"rgb(157 105 34)",fill:"rgb(157 105 34)",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:c("path",{d:"M19.045 7.401c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.378-.378-.88-.586-1.414-.586s-1.036.208-1.413.585L4 13.585V18h4.413L19.045 7.401zm-3-3 1.587 1.585-1.59 1.584-1.586-1.585 1.589-1.584zM6 16v-1.585l7.04-7.018 1.586 1.586L7.587 16H6zm-2 4h16v2H4z"})})),L=({onAccept:s,onFinish:a})=>{const o=f(),[l]=H(e=>e),[t]=g(e=>e.initialFields),[n]=g(e=>e.initialData??{}),[m,i]=g(e=>e.submittedCounter),h=u.useCallback(async e=>{e.preventDefault(),i==null||i({submittedCounter:m+1});const r=b(t,l),w=!z(n,l);if((r==null?void 0:r.length)>0){const d=r.map(v=>v.errorMessage);o==null||o(c(x,{errors:d}),"Error Validating Customer","error");return}typeof s=="function"&&w?s(l):a==null||a(e)},[o,l,i,n,t,s,a,m]);return c($,{id:"form-button-accept",onClick:h,children:"Accept"})},O=u.memo(L),y=(s,a,o="",l=!0)=>s==null?void 0:s.map((t,n)=>{var h;const m=(t==null?void 0:t.type)??"field",i=`form-group-${n}-${(t==null?void 0:t.label)??""}`;switch(m){case"group":const e=t;return(e==null?void 0:e.fields)&&p(B,{id:"field-group",children:[c("legend",{children:e==null?void 0:e.label}),y(e==null?void 0:e.fields,100,i,l)]},i);case"row":const r=t,w=100/((h=r==null?void 0:r.fields)==null?void 0:h.length)||100,d=`${o}-form-row-${n}`;return(r==null?void 0:r.fields)&&c(V,{id:"field-row",children:y(r==null?void 0:r.fields,w,d,l)},d);case"rule":return null;case"field":default:const v=t,k=`${o}-form-field-${n}-${v.accessor}`;return t!=null&&t.render?c(E,{id:"custom-field-wrapper",width:a,children:t==null?void 0:t.render()},k):c(M,{field:v,width:a,viewMode:l},k)}}),W=({viewMode:s,actions:a,children:o,title:l,icon:t,onAccept:n,onFinish:m,width:i,height:h})=>{const[e]=g(r=>r.initialFields);return p(j,{noValidate:!0,width:i,height:h,children:[c(D,{icon:t,title:l,onClose:m}),c("main",{children:p(I,{children:[y(e,void 0,void 0,s),o]})}),p("footer",{children:[n&&c(O,{onAccept:n,onFinish:m}),a]})]})},R=u.memo(W);export{q as C,G as E,R as F,S as I};
