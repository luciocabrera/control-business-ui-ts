import{r as R,R as Ft}from"./vendor-2ae8ef6f.js";var pt={},Gt={get exports(){return pt},set exports(t){pt=t}},Wt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G=R;function Yt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:Yt,Qt=G.useState,Xt=G.useEffect,Zt=G.useLayoutEffect,te=G.useDebugValue;function ee(t,e){var n=e(),r=Qt({inst:{value:n,getSnapshot:e}}),o=r[0].inst,i=r[1];return Zt(function(){o.value=n,o.getSnapshot=e,ut(o)&&i({inst:o})},[t,n,e]),Xt(function(){return ut(o)&&i({inst:o}),t(function(){ut(o)&&i({inst:o})})},[t]),te(n),n}function ut(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function ne(t,e){return e()}var oe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ne:ee;Wt.useSyncExternalStore=G.useSyncExternalStore!==void 0?G.useSyncExternalStore:oe;(function(t){t.exports=Wt})(Gt);const L=new WeakMap,ft={},nt={},W=()=>{},b=W(),lt=Object,a=t=>t===b,N=t=>typeof t=="function",M=(t,e)=>({...t,...e}),vt="undefined",st=typeof window!=vt,Rt=typeof document!=vt,se=()=>st&&typeof window.requestAnimationFrame!=vt,Mt=(t,e)=>{const n=L.get(t);return[()=>t.get(e)||ft,r=>{if(!a(e)){const o=t.get(e);e in nt||(nt[e]=o),n[5](e,M(o,r),o||ft)}},n[6],()=>!a(e)&&e in nt?nt[e]:t.get(e)||ft]},ot=new WeakMap;let re=0;const Q=t=>{const e=typeof t,n=t&&t.constructor,r=n==Date;let o,i;if(lt(t)===t&&!r&&n!=RegExp){if(o=ot.get(t),o)return o;if(o=++re+"~",ot.set(t,o),n==Array){for(o="@",i=0;i<t.length;i++)o+=Q(t[i])+",";ot.set(t,o)}if(n==lt){o="#";const c=lt.keys(t).sort();for(;!a(i=c.pop());)a(t[i])||(o+=i+":"+Q(t[i])+",");ot.set(t,o)}}else o=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o};let St=!0;const ie=()=>St,[wt,_t]=st&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[W,W],ae=()=>{const t=Rt&&document.visibilityState;return a(t)||t!=="hidden"},ce=t=>(Rt&&document.addEventListener("visibilitychange",t),wt("focus",t),()=>{Rt&&document.removeEventListener("visibilitychange",t),_t("focus",t)}),ue=t=>{const e=()=>{St=!0,t()},n=()=>{St=!1};return wt("online",e),wt("offline",n),()=>{_t("online",e),_t("offline",n)}},fe={isOnline:ie,isVisible:ae},le={initFocus:ce,initReconnect:ue},Lt=!Ft.useId,X=!st||"Deno"in window,de=t=>se()?window.requestAnimationFrame(t):setTimeout(t,1),dt=X?R.useEffect:R.useLayoutEffect,Et=typeof navigator<"u"&&navigator.connection,Nt=!X&&Et&&(["slow-2g","2g"].includes(Et.effectiveType)||Et.saveData),Tt=t=>{if(N(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Q(t):"",[t,e]};let Ee=0;const gt=()=>++Ee,Ut=0,qt=1,Pt=2;var ht={__proto__:null,FOCUS_EVENT:Ut,RECONNECT_EVENT:qt,MUTATE_EVENT:Pt};async function Ht(...t){const[e,n,r,o]=t,i=M({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let c=i.populateCache;const E=i.rollbackOnError;let l=i.optimisticData;const O=i.revalidate!==!1,S=T=>typeof E=="function"?E(T):E!==!1,w=i.throwOnError;if(N(n)){const T=n,_=[],g=e.keys();for(let s=g.next();!s.done;s=g.next()){const x=s.value;!x.startsWith("$inf$")&&T(e.get(x)._k)&&_.push(x)}return Promise.all(_.map(D))}return D(n);async function D(T){const[_]=Tt(T);if(!_)return;const[g,s]=Mt(e,_),[x,U,q]=L.get(e),F=x[_],H=()=>O&&(delete q[_],F&&F[0])?F[0](Pt).then(()=>g().data):g().data;if(t.length<3)return H();let p=r,u;const k=gt();U[_]=[k,0];const A=!a(l),j=g(),rt=j.data,Z=j._c,y=a(Z)?rt:Z;if(A&&(l=N(l)?l(y):l,s({data:l,_c:y})),N(p))try{p=p(y)}catch(z){u=z}if(p&&N(p.then))if(p=await p.catch(z=>{u=z}),k!==U[_][0]){if(u)throw u;return p}else u&&A&&S(u)&&(c=!0,p=y,s({data:p,_c:b}));c&&(u||(N(c)&&(p=c(p,y)),s({data:p,_c:b}))),U[_][1]=gt();const it=await H();if(s({_c:b}),u){if(w)throw u;return}return c?it:p}}const xt=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},he=(t,e)=>{if(!L.has(t)){const n=M(le,e),r={},o=Ht.bind(b,t);let i=W;const c={},E=(S,w)=>{const D=c[S]||[];return c[S]=D,D.push(w),()=>D.splice(D.indexOf(w),1)},l=(S,w,D)=>{t.set(S,w);const T=c[S];if(T)for(let _=T.length;_--;)T[_](w,D)},O=()=>{if(!L.has(t)&&(L.set(t,[r,{},{},{},o,l,E]),!X)){const S=n.initFocus(setTimeout.bind(b,xt.bind(b,r,Ut))),w=n.initReconnect(setTimeout.bind(b,xt.bind(b,r,qt)));i=()=>{S&&S(),w&&w(),L.delete(t)}}};return O(),[t,o,O,i]}return[t,L.get(t)[4]]},me=(t,e,n,r,o)=>{const i=n.errorRetryCount,c=o.retryCount,E=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!a(i)&&c>i||setTimeout(r,E,o)},pe=(t,e)=>Q(t)==Q(e),[kt,Re]=he(new Map),Se=M({onLoadingSlow:W,onSuccess:W,onError:W,onErrorRetry:me,onDiscarded:W,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Nt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Nt?5e3:3e3,compare:pe,isPaused:()=>!1,cache:kt,mutate:Re,fallback:{}},fe),we=(t,e)=>{const n=M(t,e);if(e){const{use:r,fallback:o}=t,{use:i,fallback:c}=e;r&&i&&(n.use=r.concat(i)),o&&c&&(n.fallback=M(o,c))}return n},_e=R.createContext({}),jt=st&&window.__SWR_DEVTOOLS_USE__,ge=jt?window.__SWR_DEVTOOLS_USE__:[],ve=()=>{jt&&(window.__SWR_DEVTOOLS_REACT__=Ft)},Te=t=>N(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],Ce=()=>M(Se,R.useContext(_e)),Oe=t=>(e,n,r)=>t(e,n&&((...i)=>{const c=Tt(e)[0],[,,,E]=L.get(kt),l=E[c];return l?(delete E[c],l):n(...i)}),r),De=ge.concat(Oe),ye=t=>function(...n){const r=Ce(),[o,i,c]=Te(n),E=we(r,c);let l=t;const{use:O}=E,S=(O||[]).concat(De);for(let w=S.length;w--;)l=S[w](l);return l(o,i||E.fetcher||null,E)},be=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o>=0&&(r[o]=r[r.length-1],r.pop())}};ve();const mt={dedupe:!0},Ae=(t,e,n)=>{const{cache:r,compare:o,suspense:i,fallbackData:c,revalidateOnMount:E,revalidateIfStale:l,refreshInterval:O,refreshWhenHidden:S,refreshWhenOffline:w,keepPreviousData:D}=n,[T,_,g]=L.get(r),[s,x]=Tt(t),U=R.useRef(!1),q=R.useRef(!1),F=R.useRef(s),H=R.useRef(e),p=R.useRef(n),u=()=>p.current,k=()=>u().isVisible()&&u().isOnline(),[A,j,rt,Z]=Mt(r,s),y=R.useRef({}).current,it=a(c)?n.fallback[s]:c,z=(f,h)=>{let d=!0;for(const v in y){const m=v;m==="data"?o(h[m],f[m])||a(f[m])&&o(h[m],at)||(d=!1):h[m]!==f[m]&&(d=!1)}return d},Ct=R.useMemo(()=>{const f=(()=>!s||!e?!1:a(E)?u().isPaused()||i?!1:a(l)?!0:l:E)(),h=m=>{const I=M(m);return delete I._k,f?{isValidating:!0,isLoading:!0,...I}:I};let d=h(A());const v=h(Z());return[()=>{const m=h(A());return z(m,d)?d:d=m},()=>v]},[r,s]),B=pt.useSyncExternalStore(R.useCallback(f=>rt(s,(h,d)=>{z(d,h)||f()}),[r,s]),Ct[0],Ct[1]),Ot=!U.current,zt=T[s]&&T[s].length>0,J=B.data,P=a(J)?it:J,tt=B.error,Dt=R.useRef(P),at=D?a(J)?Dt.current:J:P,yt=(()=>zt&&!a(tt)?!1:Ot&&!a(E)?E:u().isPaused()?!1:i?a(P)?!1:l:a(P)||l)(),bt=!!(s&&e&&Ot&&yt),Bt=a(B.isValidating)?bt:B.isValidating,Jt=a(B.isLoading)?bt:B.isLoading,Y=R.useCallback(async f=>{const h=H.current;if(!s||!h||q.current||u().isPaused())return!1;let d,v,m=!0;const I=f||{},K=!g[s]||!I.dedupe,$=()=>Lt?!q.current&&s===F.current&&U.current:s===F.current,et={isValidating:!1,isLoading:!1},At=()=>{j(et)},It=()=>{const C=g[s];C&&C[1]===v&&delete g[s]},Vt={isValidating:!0};a(A().data)&&(Vt.isLoading=!0);try{if(K&&(j(Vt),n.loadingTimeout&&a(A().data)&&setTimeout(()=>{m&&$()&&u().onLoadingSlow(s,n)},n.loadingTimeout),g[s]=[h(x),gt()]),[d,v]=g[s],d=await d,K&&setTimeout(It,n.dedupingInterval),!g[s]||g[s][1]!==v)return K&&$()&&u().onDiscarded(s),!1;et.error=b;const C=_[s];if(!a(C)&&(v<=C[0]||v<=C[1]||C[1]===0))return At(),K&&$()&&u().onDiscarded(s),!1;const V=A().data;et.data=o(V,d)?V:d,K&&$()&&u().onSuccess(d,s,n)}catch(C){It();const V=u(),{shouldRetryOnError:ct}=V;V.isPaused()||(et.error=C,K&&$()&&(V.onError(C,s,V),(ct===!0||N(ct)&&ct(C))&&k()&&V.onErrorRetry(C,s,V,Y,{retryCount:(I.retryCount||0)+1,dedupe:!0})))}return m=!1,At(),!0},[s,r]),Kt=R.useCallback((...f)=>Ht(r,F.current,...f),[]);if(dt(()=>{H.current=e,p.current=n,a(J)||(Dt.current=J)}),dt(()=>{if(!s)return;const f=Y.bind(b,mt);let h=0;const v=be(s,T,m=>{if(m==ht.FOCUS_EVENT){const I=Date.now();u().revalidateOnFocus&&I>h&&k()&&(h=I+u().focusThrottleInterval,f())}else if(m==ht.RECONNECT_EVENT)u().revalidateOnReconnect&&k()&&f();else if(m==ht.MUTATE_EVENT)return Y()});return q.current=!1,F.current=s,U.current=!0,j({_k:x}),yt&&(a(P)||X?f():de(f)),()=>{q.current=!0,v()}},[s]),dt(()=>{let f;function h(){const v=N(O)?O(P):O;v&&f!==-1&&(f=setTimeout(d,v))}function d(){!A().error&&(S||u().isVisible())&&(w||u().isOnline())?Y(mt).then(h):h()}return h(),()=>{f&&(clearTimeout(f),f=-1)}},[O,S,w,s]),R.useDebugValue(at),i&&a(P)&&s)throw!Lt&&X?new Error("Fallback data is required when using suspense in SSR."):(H.current=e,p.current=n,q.current=!1,a(tt)?Y(mt):tt);return{mutate:Kt,get data(){return y.data=!0,at},get error(){return y.error=!0,tt},get isValidating(){return y.isValidating=!0,Bt},get isLoading(){return y.isLoading=!0,Jt}}};var Ve=ye(Ae);export{Ce as a,Ve as u};
