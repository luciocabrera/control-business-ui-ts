import{b as l,_ as x,j as e,$ as C,a0 as T,D as S,X as c,a1 as w,F as g}from"./index-a0b9f4a7.js";import{r as y,R as d}from"./vendor-2ae8ef6f.js";import{R as b}from"./ReadOnlyTable-45e8a839.js";import{C as N}from"./react-charts-4dd82eba.js";import"./swr-04965976.js";import"./styled-components-e6489abd.js";import"./use-context-selector-6b0b0676.js";import"./@tanstack/react-table-e9a5a890.js";import"./react-virtual-793d5da3.js";import"./@tanstack/match-sorter-utils-120d5a33.js";const M=({tabs:a,defaultSelectedTab:s})=>{var i;const[r,o]=y.useState(s??a[0].key),n=(i=a.find(t=>t.key===r))==null?void 0:i.children;return l(x,{children:[e(C,{children:a.map(({title:t,key:v})=>e(T,{active:r===v,onClick:()=>o(v),type:"button",children:t},v))}),n]})},f="_title_4s6qx_25",A="_subtitle_4s6qx_31",I="_color3_4s6qx_39",K="_color4_4s6qx_47",$="_color5_4s6qx_53",u={"card-chart-wrapper":"_card-chart-wrapper_4s6qx_1","card-chart-body":"_card-chart-body_4s6qx_11","card-chart-header":"_card-chart-header_4s6qx_25",title:f,subtitle:A,color3:I,color4:K,color5:$},q=({data:a,title:s,subtitle:r,primaryAxis:o,secondaryAxes:n})=>(console.log("data",a),l("div",{className:u["card-chart-wrapper"],children:[(s||r)&&l("div",{className:u["card-chart-header"],children:[s&&e("div",{className:u.title,children:s}),r&&e("div",{className:u.subtitle,children:r})]}),e("div",{className:u["card-chart-body"],children:(a==null?void 0:a.length)>0&&e(N,{options:{data:a,primaryAxis:o,secondaryAxes:n}})})]})),h=y.memo(q),p={"card-chart-wrapper":"_card-chart-wrapper_1sgfw_1","section-column":"_section-column_1sgfw_33","section-wrapper":"_section-wrapper_1sgfw_51"},D=({row:{original:{date:a}}})=>e(S,{date:a}),L=({row:{original:{invoicesCount:a}}})=>e(c,{value:a,output:"number"}),V=({row:{original:{subtotalSum:a}}})=>e(c,{value:a,output:"currency"}),k=({row:{original:{taxesSum:a}}})=>e(c,{value:a,output:"currency"}),R=({row:{original:{totalSum:a}}})=>e(c,{value:a,output:"currency"}),j=()=>y.useMemo(()=>[{accessorKey:"date",header:"Date",cell:D},{accessorKey:"invoicesCount",header:"Invoices",cell:L},{accessorKey:"subtotalSum",header:"Subtotal",cell:V},{accessorKey:"taxesSum",header:"Taxes",cell:k},{accessorKey:"totalSum",header:"Total",cell:R}],[]),z=()=>{const{data:a,isLoading:s}=w(),r=j(),o=d.useMemo(()=>({getValue:t=>t.date,scaleType:"band"}),[]),n=d.useMemo(()=>[{getValue:t=>t.value,stacked:!0,scaleType:"linear"}],[]),i=d.useMemo(()=>[{getValue:t=>t.value,elementType:"area",scaleType:"linear"}],[]);return s?e(g,{children:"Loading................."}):l("div",{className:p["section-wrapper"],children:[e("div",{"data-dashboard-role":"table","data-parent":"section-wrapper",className:p["section-column"],children:e("div",{"data-parent":"section-wrapper",children:e(b,{data:a.data,columns:r,showHeader:!0,title:"Current Month"})})}),l("div",{"data-parent":"section-wrapper",className:p["section-column"],children:[e("div",{"data-parent":"section-wrapper",className:p["card-chart-wrapper"],children:e(h,{title:"Amounts current month",subtitle:"Sub total, Taxes and Total grouped by Day",data:a.amounts,primaryAxis:o,secondaryAxes:n})}),e("div",{"data-parent":"section-wrapper",className:p["card-chart-wrapper"],children:e(h,{title:"Invoices current month",subtitle:"Nr of Invoices groped by Day",data:a.invoices,primaryAxis:o,secondaryAxes:i})})]})]})},m={"card-chart-wrapper":"_card-chart-wrapper_3c6rz_1","section-column":"_section-column_3c6rz_33","section-wrapper":"_section-wrapper_3c6rz_51"},F=({row:{original:{invoicesCount:a}}})=>e(c,{value:a,output:"number"}),H=({row:{original:{subtotalSum:a}}})=>e(c,{value:a,output:"currency"}),B=({row:{original:{taxesSum:a}}})=>e(c,{value:a,output:"currency"}),E=({row:{original:{totalSum:a}}})=>e(c,{value:a,output:"currency"}),G=()=>y.useMemo(()=>[{accessorKey:"period",header:"Period"},{accessorKey:"invoicesCount",header:"Invoices",cell:F},{accessorKey:"subtotalSum",header:"Subtotal",cell:H},{accessorKey:"taxesSum",header:"Taxes",cell:B},{accessorKey:"totalSum",header:"Total",cell:E}],[]),O=()=>{const{data:a,isLoading:s}=w("monthly"),r=G(),o=d.useMemo(()=>({getValue:t=>t.date,scaleType:"band"}),[]),n=d.useMemo(()=>[{getValue:t=>t.value,stacked:!0,scaleType:"linear"}],[]),i=d.useMemo(()=>[{getValue:t=>t.value,elementType:"area",scaleType:"linear"}],[]);return s?e(g,{children:"Loading................."}):l("div",{className:m["section-wrapper"],children:[e("div",{"data-dashboard-role":"table","data-parent":"section-wrapper",className:m["section-column"],children:e("div",{"data-parent":"section-wrapper",children:e(b,{data:a.data,columns:r,showHeader:!0,title:"LAst 12 Months"})})}),l("div",{"data-parent":"section-wrapper",className:m["section-column"],children:[e("div",{"data-parent":"section-wrapper",className:m["card-chart-wrapper"],children:e(h,{title:"Amounts by Month",subtitle:"Sub total, Taxes and Total grouped by Month in the last 12 months",data:a.amounts,primaryAxis:o,secondaryAxes:n})}),e("div",{"data-parent":"section-wrapper",className:m["card-chart-wrapper"],children:e(h,{title:"Invoices by Month",subtitle:"Nr of Invoices groped by Month in the last 12 months",data:a.invoices,primaryAxis:o,secondaryAxes:i})})]})]})},_={"home-wrapper":"_home-wrapper_7472l_1"},P=[{key:"current-month",title:"Current Month",children:e("div",{className:_["home-wrapper"],children:e(z,{})})},{key:"summary-last-months",title:"Last Year",children:e("div",{className:_["home-wrapper"],children:e(O,{})})}],re=()=>e(M,{tabs:P});export{re as default};
